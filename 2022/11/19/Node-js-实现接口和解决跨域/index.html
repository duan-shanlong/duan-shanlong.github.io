
<!DOCTYPE html>
<html lang="en" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Node.js 实现接口和解决跨域 - 反抗军</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="前端,"> 
    <meta name="description" content="npmnpm是什么？
开发中一般不会什么功能都自己写，如何优雅的下载第三方模块呢?—npm
传送门：如何使用npm


npm 是 管理（下载、卸载、发布）第三方模块的工具。
npm（node pa,"> 
    <meta name="author" content="John Doe"> 
    <link rel="alternative" href="atom.xml" title="反抗军" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

    
    
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:title" content="Node.js 实现接口和解决跨域 - 反抗军"/>
    <meta name="twitter:description" content="npmnpm是什么？
开发中一般不会什么功能都自己写，如何优雅的下载第三方模块呢?—npm
传送门：如何使用npm


npm 是 管理（下载、卸载、发布）第三方模块的工具。
npm（node pa,"/>
    
    
    
    
    <meta property="og:site_name" content="反抗军"/>
    <meta property="og:type" content="object"/>
    <meta property="og:title" content="Node.js 实现接口和解决跨域 - 反抗军"/>
    <meta property="og:description" content="npmnpm是什么？
开发中一般不会什么功能都自己写，如何优雅的下载第三方模块呢?—npm
传送门：如何使用npm


npm 是 管理（下载、卸载、发布）第三方模块的工具。
npm（node pa,"/>
    
<link rel="stylesheet" href="/css/diaspora.css">

    <script>window.searchDbPath = "/search.xml";</script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet">
<meta name="generator" content="Hexo 5.4.2"></head>

<body class="loading">
    <span id="config-title" style="display:none">反抗军</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="iconfont icon-home image-icon" href="javascript:;" data-url="http://example.com"></a>
    <div title="播放/暂停" class="iconfont icon-play"></div>
    <h3 class="subtitle">Node.js 实现接口和解决跨域</h3>
    <div class="social">
        <div>
            <div class="share">
                <a title="获取二维码" class="iconfont icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class='main'>
        <h1 class="title">Node.js 实现接口和解决跨域</h1>
        <div class="stuff">
            <span>十一月 19, 2022</span>
            
  <ul class="post-tags-list" itemprop="keywords"><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/tags/" rel="tag">tags</a></li></ul>


        </div>
        <div class="content markdown">
            <h1 id="npm"><a href="#npm" class="headerlink" title="npm"></a><strong>npm</strong></h1><h2 id="npm是什么？"><a href="#npm是什么？" class="headerlink" title="npm是什么？"></a><strong>npm是什么？</strong></h2><blockquote>
<p>开发中一般不会什么功能都自己写，如何优雅的下载第三方模块呢?—npm</p>
<p><a target="_blank" rel="noopener" href="https://docs.npmjs.com/cli/v8/using-npm">传送门：如何使用npm</a></p>
</blockquote>
<ul>
<li><strong>npm 是 管理（下载、卸载、发布）第三方模块的工具。</strong></li>
<li><code>npm</code>（node package manager）node 包管理工具。管理node包的工具。</li>
<li><strong>包</strong>是什么？包就是模块。（<strong>包约等于模块</strong>，一个包可以包括一个或多个模块）</li>
<li>npm这个工具，在安装 node 的时候，就已经安装到你的计算机中了。（捆绑安装）</li>
<li>命令行中执行： <code>npm -v</code> ，如果看到<strong>版本号</strong>，说明安装成功了。</li>
</ul>
<p><a href=""></a></p>
<h3 id="npm是什么"><a href="#npm是什么" class="headerlink" title="npm是什么?"></a><strong>npm是什么?</strong></h3><p>刚才介绍了之后会经常使用的一个包管理工具-<code>npm</code></p>
<ul>
<li><code>npm</code>是什么?<ol>
<li>node的包管理工具</li>
<li>前端的第三方模块.也可以用它下载</li>
</ol>
</li>
<li>输入什么命令可以确认<code>npm</code>的版本?<ol>
<li><code>npm -v</code></li>
</ol>
</li>
</ul>
<h2 id="npm基本使用"><a href="#npm基本使用" class="headerlink" title="npm基本使用"></a><strong>npm基本使用</strong></h2><blockquote>
<p>上一节介绍了npm的概念，如何使用他呢?</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/432578145">传送门:淘宝镜像站更换新域名啦</a></p>
</blockquote>
<p>淘宝镜像站 </p>
<p><a target="_blank" rel="noopener" href="https://npmmirror.com/">npmmirror 中国镜像站</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置淘宝镜像，设置了之后，安装node模块，从国内镜像下载</span></span><br><span class="line">npm config <span class="built_in">set</span> registry https://registry.npmmirror.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看npm地址</span></span><br><span class="line">npm config get registry</span><br><span class="line"></span><br><span class="line"><span class="comment"># 还原 node.js在某些版本下，安装国内镜像可能或报错，还原回npm服务器</span></span><br><span class="line">npm config <span class="built_in">set</span> registry https://registry.npmjs.org</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 通过cnpm 安装模块 </span></span><br><span class="line"><span class="comment"># 或者使用cnpm  ==&gt; 以后使用 cnpm 安装，使用国内镜像站</span></span><br><span class="line">npm install -g cnpm --registry=https://registry.npmmirror.com</span><br><span class="line"><span class="comment"># 查看cnpm </span></span><br><span class="line">cnpm -v <span class="comment"># 以后可以使用 </span></span><br><span class="line"><span class="comment"># 安装新模块 </span></span><br><span class="line">cnpm install xxx </span><br></pre></td></tr></table></figure>

<h3 id="新建文件夹，初始化项目"><a href="#新建文件夹，初始化项目" class="headerlink" title="新建文件夹，初始化项目"></a>新建文件夹，初始化项目</h3><p><strong>基本步骤:</strong></p>
<ol>
<li><strong>初始化</strong>项目</li>
<li>下载需要的<strong>第三方</strong>模块</li>
</ol>
<p><strong>详细步骤：</strong></p>
<p>初始化命令的<strong>两种</strong>写法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm init -y</span><br><span class="line"><span class="comment"># 或</span></span><br><span class="line">npm init</span><br><span class="line"><span class="comment"># 然后一路回车</span></span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong></p>
<p><code>npm init</code>默认会读取文件夹名作为<code>项目名 ==&gt; package name</code></p>
<ul>
<li><strong>package name</strong><ul>
<li>不能有<strong>中文</strong></li>
<li>不能有<strong>特殊符号</strong></li>
<li>不能和需要安装的<strong>第三方模块</strong>同名</li>
</ul>
</li>
</ul>
<ol>
<li>初始化之后，会在项目目录中生成 <code>package.json</code> 的文件。</li>
<li>初始化完毕之后就可以在<strong>当前文件夹</strong>安装第三方模块<ol>
<li>为了保证安装速度，建议执行这个命令</li>
<li>命令的作用是切换第三方模块的下载地址为<code>淘宝镜像</code></li>
</ol>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">建议在安装第三方模块之前，先执行如下命令。</span><br><span class="line">下面的命令只需要执行一次即可（不管以后重启vscode还是重启电脑，都不需要执行第二次）</span><br><span class="line">npm config <span class="built_in">set</span> registry https://registry.npmmirror.com</span><br></pre></td></tr></table></figure>
</li>
<li>下载的命令 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 正常的下载安装</span></span><br><span class="line">npm install 模块名</span><br><span class="line"></span><br><span class="line"><span class="comment"># 简写install为i</span></span><br><span class="line">npm i 模块名</span><br><span class="line"></span><br><span class="line"><span class="comment"># 一次性安装多个模块</span></span><br><span class="line">npm i 模块名 模块名 模块名</span><br><span class="line"><span class="comment"># 可以通过@版本号,不设置默认是最新</span></span><br><span class="line">npm i 模块名@版本号</span><br></pre></td></tr></table></figure>
</li>
<li>卸载的命令 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall 模块名</span><br><span class="line">npm un 模块名</span><br><span class="line">npm un 模块名 模块名 模块名</span><br></pre></td></tr></table></figure>
</li>
<li>测试<code>下载</code>和<code>卸载</code><ol>
<li><code>axios</code></li>
<li><code>dayjs</code></li>
</ol>
</li>
<li>观察下载之后项目中<strong>下列文件</strong>发生的变化<ol>
<li><code>package.json</code><ol>
<li>保存下载的模块信息</li>
</ol>
</li>
<li><code>package-lock.json</code></li>
<li><code>node_modules</code></li>
</ol>
</li>
</ol>
<h3 id="Q6"><a href="#Q6" class="headerlink" title="Q6:"></a>Q6:</h3><ul>
<li><code>npm</code>初始化的项目名是否有要求？<ol>
<li>不能为中文,不能有特殊符号,大写字母⇒ 小写</li>
</ol>
</li>
<li>下载模块的命令是？<ol>
<li>npm i 模块名</li>
<li>npm i 模块名@版本号</li>
</ol>
</li>
<li>移除模块的命令是？<ol>
<li>npm un 模块名</li>
</ol>
</li>
</ul>
<h2 id="dayjs-基本使用"><a href="#dayjs-基本使用" class="headerlink" title="dayjs-基本使用"></a><strong>dayjs-基本使用</strong></h2><blockquote>
<p>上一节咱们下载了dayjs,咱们来看看这个库的作用是什么,并且来测试一下</p>
<p><a target="_blank" rel="noopener" href="https://dayjs.fenxianglu.cn/">传送门:dayjs</a></p>
<p><a target="_blank" rel="noopener" href="https://dayjs.fenxianglu.cn/category/parse.html#%E5%AD%97%E7%AC%A6%E4%B8%B2">传送门:解析规则</a></p>
</blockquote>
<h3 id="dayjs格式"><a href="#dayjs格式" class="headerlink" title="dayjs格式"></a>dayjs格式</h3><p><a target="_blank" rel="noopener" href="https://dayjs.fenxianglu.cn/category/display.html#%E6%A0%BC%E5%BC%8F%E5%8C%96">https://dayjs.fenxianglu.cn/category/display.html#格式化</a></p>
<p>⇒ 注意大小写！！ 不能修改</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">dayjs</span>().<span class="title function_">format</span>();                                     <span class="comment">// 2020-09-08T13:42:32+08:00</span></span><br><span class="line"><span class="title function_">dayjs</span>().<span class="title function_">format</span>(<span class="string">&#x27;YYYY-MM-DD&#x27;</span>);                         <span class="comment">// 2020-09-08</span></span><br><span class="line"><span class="title function_">dayjs</span>().<span class="title function_">format</span>(<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>);                <span class="comment">// 2020-09-08 13:47:12</span></span><br><span class="line"><span class="title function_">dayjs</span>(<span class="number">1318781876406</span>).<span class="title function_">format</span>(<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>);   <span class="comment">// 2011-10-17 00:17:56</span></span><br></pre></td></tr></table></figure>

<h3 id="需求"><a href="#需求" class="headerlink" title="需求:"></a><strong>需求:</strong></h3><ol>
<li>根据文档确认用法并测试使用</li>
<li>将提供数据中的日期转为<code>2022-07-18 17:35:53</code>这种格式</li>
</ol>
<h3 id="步骤"><a href="#步骤" class="headerlink" title="步骤:"></a><strong>步骤:</strong></h3><ol>
<li>参考<strong>文档</strong>,测试并使用</li>
<li>将如下时间戳转为<code>YYYY-MM-DD HH:mm:ss</code>这种格式 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1668640759762</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="Q7-dayjs-基本使用"><a href="#Q7-dayjs-基本使用" class="headerlink" title="Q7:dayjs-基本使用"></a>Q7:<strong>dayjs-基本使用</strong></h3><p>这一小节咱们学习了日期格式化库-<code>dayjs</code>的基本使用:</p>
<ul>
<li>任何库的使用套路都是类似的:<ol>
<li>基于文档的示例-&gt;<strong>c+v</strong>运行</li>
<li>根据文档,传入不同的<strong>参数</strong></li>
</ol>
</li>
<li>如何进阶?<ol>
<li>基本使用:<strong>入门</strong></li>
<li>重度使用:<strong>熟练–&gt;精通→</strong> </li>
<li>修复<strong>框架/库</strong>的bug:<strong>开源框架贡献者</strong></li>
<li>实现<strong>框架/库</strong>:<strong>开源框架作者</strong></li>
</ol>
</li>
</ul>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><ol>
<li>模块化<ol>
<li>作用:<ol>
<li>大的–&gt;小的</li>
<li>小–&gt;组合到一起</li>
</ol>
</li>
<li>规范:<ol>
<li><strong>CommonJS</strong></li>
<li><strong>ESM</strong></li>
</ol>
</li>
<li>语法:<ol>
<li>module.exports—&gt;导出(暴露)</li>
<li>require()–&gt;导入</li>
<li>只能在<code>Node.js</code>中</li>
</ol>
</li>
</ol>
</li>
<li>npm:<ol>
<li>查看版本:<code>npm -v</code></li>
<li>下包:<ol>
<li><code>npm i 包名</code></li>
<li><code>npm i 包名@版本号</code></li>
</ol>
</li>
<li>用包<ol>
<li>跟着文档使用–<code>dayjs</code></li>
</ol>
</li>
<li>删包<ol>
<li><code>npm un 包名</code></li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="package-json和package-lock-json的作用"><a href="#package-json和package-lock-json的作用" class="headerlink" title="package.json和package-lock.json的作用"></a><strong>package.json和package-lock.json的作用</strong></h2><blockquote>
<p>项目中中多出来的package.json和package-lock.json的作用是什么呢？</p>
<p><a target="_blank" rel="noopener" href="https://docs.npmjs.com/cli/v8/configuring-npm/package-json">传送门:package.json</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.npmjs.com/cli/v8/configuring-npm/package-lock-json">传送门:package-lock.json</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6870426598605062152">传送门:详解package.json和package-lock.json</a></p>
</blockquote>
<h3 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a><strong>package.json</strong></h3><p><strong>保存项目的信息:</strong></p>
<ol>
<li><code>name</code>：项目名</li>
<li><code>version</code>:项目版本</li>
<li><code>description</code>：项目描述</li>
<li><code>main</code>：项目入口</li>
<li><code>scripts</code>:<ol>
<li>示例中的:<code>test</code>可以通过<code>npm run test</code>执行</li>
</ol>
</li>
<li><code>author</code>:作者</li>
<li><code>license</code>:开源协议</li>
<li><code>dependencies</code>:项目中用到的第三方模块(依赖)</li>
</ol>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;03&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ISC&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dayjs&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.11.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;jquery&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.6.0&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="package-lock-json"><a href="#package-lock-json" class="headerlink" title="package-lock.json"></a><strong>package-lock.json</strong></h3><ol>
<li>更为详细的第三方模块模块<ol>
<li>版本信息</li>
<li>甚至<strong>下载地址</strong></li>
<li>…</li>
</ol>
</li>
</ol>
<h3 id="实际应用"><a href="#实际应用" class="headerlink" title="实际应用"></a><strong>实际应用</strong></h3><ol>
<li>共享的<code>node</code>项目一般会删除<code>node_modules</code></li>
<li>只要项目目录中有<code>package.json</code>说明项目是完整的</li>
<li><strong>项目根目录</strong>,执行<code>npm i</code>即可读取<code>package.json</code>中保存的<code>dependencies</code>(<strong>依赖信息</strong>),重新下载<ol>
<li>命令执行的目录和<code>package.json</code>同级</li>
</ol>
</li>
</ol>
<h3 id="PS-版本号"><a href="#PS-版本号" class="headerlink" title="PS.版本号"></a>PS.版本号</h3><p><strong>语义版本控制</strong></p>
<p>首先我们先来了解下依赖包的<strong>版本号的定义</strong></p>
<p>版本号由三部分组成：<code>major.minor.patch</code>，主版本号.次版本号.修补版本号。</p>
<p>例如：1.2.3，主要版本1，次要版本2，补丁3。</p>
<ul>
<li><code>补丁</code>中的更改表示不会破坏任何内容的错误修复。</li>
<li><code>次要版本</code>的更改表示不会破坏任何内容的新功能。</li>
<li><code>主要版本</code>的更改代表了一个破坏兼容性的大变化。 如果用户不适应主要版本更改，则内容将无法正常工作。</li>
</ul>
<p><strong>安装依赖包的版本如何指定</strong></p>
<p>相信大家都会经历过，我们安装一些依赖包的时候，版本号前面都会带 <code>^</code> 或者 <code>~</code> 的符号，这两个符号代表什么意思呢？</p>
<p><code>~</code> 会匹配最近的小版本依赖包，比如 ~1.2.3 会匹配所有 1.2.x 版本，但是不包括 1.3.0</p>
<p><code>^</code> 会匹配最新的大版本依赖包，比如 ^1.2.3 会匹配所有 1.x.x 的包，包括 1.3.0，但是不包括 2.0.0</p>
<h3 id="Q8"><a href="#Q8" class="headerlink" title="Q8:"></a>Q8:</h3><ul>
<li>哪个命令会读取<code>package.json</code>中保存的依赖信息,并下载?<ol>
<li><code>npm i</code></li>
</ol>
</li>
<li>执行这个命令对<strong>路径是否</strong>有要求?<ol>
<li>和<code>package.json</code>同级</li>
</ol>
</li>
</ul>
<h2 id="全局模块"><a href="#全局模块" class="headerlink" title="全局模块"></a><strong>全局模块</strong></h2><blockquote>
<p>第三方模块除了项目中直接下载使用的模块以外,还有一种叫做全局模块的,咱们来认识一下,并且安装几个试试</p>
<p><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/nrm">传送门:nrm官网</a></p>
<p><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/serve">传送门:serve</a></p>
</blockquote>
<h3 id="和本地模块的差异"><a href="#和本地模块的差异" class="headerlink" title="和本地模块的差异"></a><strong>和本地模块的差异</strong></h3><ul>
<li>全局安装的模块，不能通过 <code>require()</code> 加载使用。</li>
<li>全局安装的模块，一般都是命令或者工具。</li>
</ul>
<h3 id="安装卸载命令"><a href="#安装卸载命令" class="headerlink" title="安装卸载命令"></a><strong>安装卸载命令</strong></h3><ul>
<li>安装命令（多一个 <code>g</code>）  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">npm i 模块名 -g</span><br><span class="line"><span class="comment"># 或</span></span><br><span class="line">npm i -g 模块名</span><br><span class="line"></span><br><span class="line"><span class="comment">### mac 系统如果安装不上，使用下面的命令提高权限</span></span><br><span class="line">sudo npm i -g 模块名</span><br></pre></td></tr></table></figure>
</li>
<li>卸载命令（也是多一个 <code>g</code>）  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm un 模块名 -g</span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">npm uninstall 模块名 -g</span><br></pre></td></tr></table></figure>
</li>
<li>全局安装的模块，在系统盘（C盘）<ul>
<li>通过命令 <code>npm root -g</code> 可以查看全局安装路径</li>
</ul>
</li>
</ul>
<h3 id="nrm介绍"><a href="#nrm介绍" class="headerlink" title="nrm介绍"></a><strong><strong>nrm介绍</strong></strong></h3><p><code>nrm</code><br> 是作用是切换镜像源（模块下载地址；模块下载的网站）。</p>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fcec1bb7-f2c5-4e2e-8c54-651c08e6559f/Untitled.png" alt="Untitled"></p>
<h3 id="nrm安装"><a href="#nrm安装" class="headerlink" title="nrm安装"></a><strong>nrm安装</strong></h3><ol>
<li>执行命令<ol>
<li>不需要记忆哪些模块需要<code>g</code>或者不需要</li>
<li>直接可以通过<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/nrm">官方文档</a>确认</li>
</ol>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i nrm -g （mac系统前面加 sudo）</span><br></pre></td></tr></table></figure>

<ol>
<li>使用<code>nrm</code></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">nrm --<span class="built_in">help</span>   <span class="comment"># 查看帮助</span></span><br><span class="line">nrm <span class="built_in">ls</span>    <span class="comment"># 查看全部可用的镜像源</span></span><br><span class="line">nrm <span class="built_in">test</span> <span class="comment"># 测试各个源的速度</span></span><br><span class="line">nrm use taobao  <span class="comment"># 切换到淘宝镜像</span></span><br><span class="line">nrm use npm  <span class="comment"># 切换到npm主站</span></span><br></pre></td></tr></table></figure>

<h3 id="Serve"><a href="#Serve" class="headerlink" title="Serve"></a>S<strong>erve</strong></h3><ol>
<li>功能和昨天自己编写的web服务器类似</li>
<li>参考文档<strong>安装+使用</strong></li>
<li>分别将<ol>
<li><strong>clock</strong>和<strong>数据可视化</strong></li>
<li>通过<code>serve</code>托管并测试访问</li>
</ol>
</li>
</ol>
<h3 id="常见错误及解决方案"><a href="#常见错误及解决方案" class="headerlink" title="常见错误及解决方案:"></a><strong>常见错误及解决方案:</strong></h3><ul>
<li><code>mac</code>安装:<ul>
<li>sudo npm i -g nrm</li>
<li>输入密码:</li>
</ul>
</li>
<li>运行 <code>nrm ls</code> 或者 <code>nrm use taobao</code> 等命令，如果报错如下：  “无法加载文件 C:………………….，<strong>因为在此系统上禁止运行脚本</strong>。…………….”<ul>
<li><strong>解决办法：</strong><ul>
<li><code>管理员</code>方式，打开命令行（powershell）窗口</li>
<li>执行 <code>set-ExecutionPolicy RemoteSigned;</code></li>
<li>在出现的选项中，输入 <code>A</code>，回车。即可。</li>
</ul>
</li>
</ul>
</li>
<li>如果报错如下: “<strong>无法将 nrm 识别为 cmdlet、函数、脚本文件或可运行程序的名称</strong>。xxxxxxxxxxx”<ul>
<li><strong>解决办法:</strong><ul>
<li>重启vscode，win7可能要重启电脑。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Q"><a href="#Q" class="headerlink" title="Q"></a>Q</h3><p>咱们安装并使用了几个全局模块:</p>
<ul>
<li>全局模块在安装命令是?比如安装<code>nrm</code>模块<ol>
<li><code>npm i nrm -g</code></li>
</ol>
</li>
<li>如何确认某个模块是全局模块还是本地模块？<ol>
<li>文档 - <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/serve">https://www.npmjs.com/package/serve</a></li>
</ol>
</li>
</ul>
<h1 id="写接口"><a href="#写接口" class="headerlink" title="写接口"></a><strong>写接口</strong></h1><blockquote>
<p>基于目前完成的内容,来实现一个返回数据的接口,并测试调用</p>
</blockquote>
<h3 id="需求-1"><a href="#需求-1" class="headerlink" title="需求:"></a><strong>需求:</strong></h3><ol>
<li>请求方法统一为<code>get</code></li>
<li><code>/api/news</code>返回新闻数据(日期转为<code>2022-07-18 17:35:53</code>)</li>
<li><code>/api/students</code>返回全部同学</li>
<li><code>/api/luckystar</code>返回随机的同学</li>
</ol>
<h3 id="基础模板"><a href="#基础模板" class="headerlink" title="基础模板:"></a><strong>基础模板:</strong></h3><ul>
<li>这部分内容直接<strong>c+v</strong></li>
</ul>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 导入 http 模块</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 创建 web 服务器实例</span></span><br><span class="line"><span class="keyword">const</span> server = http.<span class="title function_">createServer</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 启动服务器</span></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8848</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;my server start work&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. 为服务器实例绑定 request 事件，监听客户端的请求</span></span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&#x27;request&#x27;</span>, <span class="function">(<span class="params">request, response</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 设置响应的内容为JSON</span></span><br><span class="line"> response.<span class="title function_">setHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;application/json; charset=utf-8&#x27;</span>)</span><br><span class="line">  <span class="comment">// 不能直接响应 对象/数组 需要转为字符串</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="分析"><a href="#分析" class="headerlink" title="分析:"></a><strong>分析:</strong></h3><ol>
<li><strong>接收</strong><ol>
<li>如何判断请求方法?<code>request.method</code></li>
<li>如何判断请求地址?<code>request.url</code></li>
</ol>
</li>
<li><strong>响应</strong><ol>
<li>如何获取对应的数据?<ol>
<li>调用封装的<code>db</code>数据模块的对应方法</li>
</ol>
</li>
<li>如何响应内容?<ol>
<li><code>response.end()</code></li>
</ol>
</li>
</ol>
</li>
<li><strong>逻辑:</strong><ol>
<li><code>/api/students</code><ol>
<li>返回<code>db.students()</code></li>
</ol>
</li>
<li><code>/api/luckystar</code><ol>
<li>返回<code>db.luckystar()</code></li>
</ol>
</li>
<li><code>/api/news</code><ol>
<li>转化<code>dayjs(时间戳).format(&#39;YYYY-MM-DD HH:mm:ss&#39;)</code></li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="测试"><a href="#测试" class="headerlink" title="测试:"></a><strong>测试:</strong></h3><ol>
<li>运行本节代码<ol>
<li><code>node xxx.js</code></li>
</ol>
</li>
<li><strong>网页</strong>直接打开接口<ol>
<li><code>JSON</code>美化需要安装插件</li>
</ol>
</li>
<li>用接口测试工具测试</li>
<li><strong>写个页面</strong>来测试:<ol>
<li><strong>会报错</strong></li>
</ol>
 <img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/16135720-ec0e-4e66-ac72-c72d2a3780a0/Untitled.png" alt="Untitled"></li>
</ol>
<h3 id="写接口-1"><a href="#写接口-1" class="headerlink" title="写接口"></a><strong>写接口</strong></h3><p>咱们是前端开发工程师,虽然这一节咱们自己实现了几个简单的接口:</p>
<ul>
<li>工作中是否需要咱们写接口?<ol>
<li>不需要–后端</li>
</ol>
</li>
<li>本节写接口的目的是?<ol>
<li>理解后端的接口大概的工作流程, 核心就是请求过来了，搞到数据给到前端~</li>
</ol>
</li>
</ul>
<h1 id="同源-amp-跨域"><a href="#同源-amp-跨域" class="headerlink" title="同源&amp;跨域"></a><strong>同源&amp;跨域</strong></h1><h2 id="同源和同源策略"><a href="#同源和同源策略" class="headerlink" title="同源和同源策略"></a><strong>同源和同源策略</strong></h2><blockquote>
<p>刚才的接口之所以调用不了,原因就是因为打开的页面和接口不同源, 咱们来介绍一下什么是同源,以及浏览器的同源策略</p>
</blockquote>
<h3 id="同源"><a href="#同源" class="headerlink" title="同源"></a><strong>同源</strong></h3><p>同源指的是<strong>两个URL</strong>地址具有相同的<strong>协议</strong>、<strong>主机</strong>、<strong>端口号</strong>。⇒ (协议，域名，端口)</p>
<p><strong>相对于</strong> <a target="_blank" rel="noopener" href="http://www.test.com/index.html">http://www.test.com/index.html</a> 页面的 5 个同源检测结果：</p>
<h3 id="什么是同源策略"><a href="#什么是同源策略" class="headerlink" title="什么是同源策略?"></a><strong>什么是同源策略?</strong></h3><p>同源策略（英文全称 <strong>Same origin policy</strong>）是<strong>浏览器</strong>提供的一个安全功能。<br>浏览器的同源策略规定：不允许非同源的 URL 之间进行资源的交互。</p>
<p><strong>地址1:</strong> 网页的URL</p>
<p>**地址2:**请求的资源地址(<strong>接口地址</strong>)</p>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d1cc3abb-f75b-4061-bba9-3f1b5bbb9c5d/Untitled.png" alt="Untitled"></p>
<h3 id="Q-1"><a href="#Q-1" class="headerlink" title="Q:"></a>Q:</h3><ul>
<li>同源指的是哪些相同？<ul>
<li>协议/主机/端口  ⇒ 协议，域名，端口号</li>
</ul>
</li>
<li>如果没有浏览器，还会有同源策略吗？<ul>
<li><strong>没有–&gt;浏览器的限制</strong></li>
</ul>
</li>
</ul>
<h2 id="跨域及主流跨域方法"><a href="#跨域及主流跨域方法" class="headerlink" title="跨域及主流跨域方法"></a><strong>跨域及主流跨域方法</strong></h2><blockquote>
<p>有了同源安全策略之后,只要2个不同源就会涉及到跨域</p>
</blockquote>
<h3 id="概念"><a href="#概念" class="headerlink" title="概念:"></a><strong>概念:</strong></h3><ul>
<li>同源指的是两个 URL 的<strong>协议、域名、端口号</strong>完全一致</li>
<li>反之，则是<strong>跨域</strong>。</li>
<li>浏览器的同源策略不允许非同源的 URL 之间进行资源的交互。例如：</li>
<li><strong>网页</strong>：<a target="_blank" rel="noopener" href="http://www.test.com/index.html">http://www.test.com/index.html</a></li>
<li><strong>接口</strong>：<a target="_blank" rel="noopener" href="http://www.api.com/userlist">http://www.api.com/userlist</a></li>
</ul>
<h3 id="浏览器对跨域请求的拦截过程"><a href="#浏览器对跨域请求的拦截过程" class="headerlink" title="浏览器对跨域请求的拦截过程?"></a><strong>浏览器对跨域请求的拦截过程?</strong></h3><p>浏览器允许发起跨域请求。但跨域请求回来的数据，会被浏览器拦截，无法被页面获取到！示意图如下：</p>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1d43f5fd-d06c-48a9-95c6-cb35ad00476f/Untitled.png" alt="Untitled"></p>
<h3 id="主流跨域方法"><a href="#主流跨域方法" class="headerlink" title="主流跨域方法"></a><strong>主流跨域方法</strong></h3><p><strong>代理服务器</strong> 和 <strong>CORS</strong> 是目前最为流行的<strong>实现跨域数据请求</strong>的两种技术方案。</p>
<ol>
<li><strong>CORS</strong> 是跨域的主流技术解决方案</li>
<li><strong>代理服务器</strong>跨域在后面vue课程中会讲到–<strong>Vue的第二个项目(人资)</strong></li>
<li>还有一些其他的跨域方案—<a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904126246027278">传送门</a></li>
</ol>
<h3 id="如何允许跨源访问"><a href="#如何允许跨源访问" class="headerlink" title="如何允许跨源访问"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/Security/Same-origin_policy#%E5%A6%82%E4%BD%95%E5%85%81%E8%AE%B8%E8%B7%A8%E6%BA%90%E8%AE%BF%E9%97%AE">如何允许跨源访问</a></h3><p>可以使用 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS">CORS</a> 来允许跨源访问。CORS 是 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/HTTP">HTTP</a> 的一部分，它允许服务端来指定哪些主机可以从这个服务端加载资源。</p>
<h2 id="CORS"><a href="#CORS" class="headerlink" title="CORS"></a><strong>CORS</strong></h2><blockquote>
<p>接下来咱们就来介绍一下什么是CORS,以及在Node.js中如何使用它</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS">传送门:CORS</a>  ⇒ 跨源资源共享</p>
</blockquote>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h3 id="概念-1"><a href="#概念-1" class="headerlink" title="概念"></a><strong>概念</strong></h3><ol>
<li><code>CORS</code> 是解决跨域数据请求的终极解决方案，全称是 <code>Cross-origin resource sharing</code>。</li>
<li><code>CORS</code> 技术需要<strong>浏览器</strong>和<strong>服务器</strong>同时支持</li>
</ol>
<ul>
<li>浏览器要<strong>支持</strong> CORS 功能（主流的浏览器全部支持，IE 不能低于 IE10）<ul>
<li><strong>前端开发者</strong>什么不都需要做</li>
</ul>
</li>
<li>服务器要<strong>开启</strong> CORS 功能（需要<strong>后端开发者</strong>为接口开启 CORS 功能）</li>
</ul>
<h3 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a><strong>工作原理</strong></h3><p>服务器端通过 <code>Access-Control-Allow-Origin</code> 响应头，来告诉浏览器当前的 API 接口是否允许跨域请求。</p>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f200ed71-55cf-4871-a50b-b3a90d6fc906/Untitled.png" alt="Untitled"></p>
<p>检查一下之前调用的接口是否有该<strong>响应头:</strong></p>
<h3 id="主要优势"><a href="#主要优势" class="headerlink" title="主要优势"></a><strong>主要优势</strong></h3><ol>
<li><strong>CORS</strong> 是真正的 Ajax 请求，支持 GET、POST、DELETE、PUT、PATCH 等这些常见的 Ajax 请求方式</li>
<li>只需要后端开启 <code>CORS</code> 功能即可，前端的代码无须做任何改动</li>
<li><code>Node.js</code>中可以通过设置如下的请求头<strong>允许跨域</strong>,添加到<strong>响应之前</strong></li>
</ol>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response.<span class="title function_">setHeader</span>(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="string">&#x27;*&#x27;</span>)</span><br></pre></td></tr></table></figure>
            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title="0" data-url="http://link.hhtjim.com/163/425570952.mp3"></li>
                        
                    
                        
                            <li title="1" data-url="http://link.hhtjim.com/163/425570952.mp3"></li>
                        
                    
                </ul>
            
        </div>
        
        
    <div id="gitalk-container" class="comment link"
		data-enable="true"
        data-ae="false"
        data-ci=""
        data-cs=""
        data-r="龙"
        data-o="龙"
        data-a="龙"
        data-d="false"
    >查看评论</div>


    </div>
    
        <div class="side">
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#npm"><span class="toc-number">1.</span> <span class="toc-text">npm</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#npm%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.1.</span> <span class="toc-text">npm是什么？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#npm%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.1.1.</span> <span class="toc-text">npm是什么?</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#npm%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">1.2.</span> <span class="toc-text">npm基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6%E5%A4%B9%EF%BC%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.2.1.</span> <span class="toc-text">新建文件夹，初始化项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q6"><span class="toc-number">1.2.2.</span> <span class="toc-text">Q6:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dayjs-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">1.3.</span> <span class="toc-text">dayjs-基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#dayjs%E6%A0%BC%E5%BC%8F"><span class="toc-number">1.3.1.</span> <span class="toc-text">dayjs格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9C%80%E6%B1%82"><span class="toc-number">1.3.2.</span> <span class="toc-text">需求:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.3.3.</span> <span class="toc-text">步骤:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q7-dayjs-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">1.3.4.</span> <span class="toc-text">Q7:dayjs-基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93"><span class="toc-number">1.3.5.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#package-json%E5%92%8Cpackage-lock-json%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">1.4.</span> <span class="toc-text">package.json和package-lock.json的作用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#package-json"><span class="toc-number">1.4.1.</span> <span class="toc-text">package.json</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#package-lock-json"><span class="toc-number">1.4.2.</span> <span class="toc-text">package-lock.json</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8"><span class="toc-number">1.4.3.</span> <span class="toc-text">实际应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PS-%E7%89%88%E6%9C%AC%E5%8F%B7"><span class="toc-number">1.4.4.</span> <span class="toc-text">PS.版本号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q8"><span class="toc-number">1.4.5.</span> <span class="toc-text">Q8:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E6%A8%A1%E5%9D%97"><span class="toc-number">1.5.</span> <span class="toc-text">全局模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%92%8C%E6%9C%AC%E5%9C%B0%E6%A8%A1%E5%9D%97%E7%9A%84%E5%B7%AE%E5%BC%82"><span class="toc-number">1.5.1.</span> <span class="toc-text">和本地模块的差异</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%8D%B8%E8%BD%BD%E5%91%BD%E4%BB%A4"><span class="toc-number">1.5.2.</span> <span class="toc-text">安装卸载命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nrm%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.5.3.</span> <span class="toc-text">nrm介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nrm%E5%AE%89%E8%A3%85"><span class="toc-number">1.5.4.</span> <span class="toc-text">nrm安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Serve"><span class="toc-number">1.5.5.</span> <span class="toc-text">Serve</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">1.5.6.</span> <span class="toc-text">常见错误及解决方案:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q"><span class="toc-number">1.5.7.</span> <span class="toc-text">Q</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%86%99%E6%8E%A5%E5%8F%A3"><span class="toc-number">2.</span> <span class="toc-text">写接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9C%80%E6%B1%82-1"><span class="toc-number">2.0.1.</span> <span class="toc-text">需求:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E6%A8%A1%E6%9D%BF"><span class="toc-number">2.0.2.</span> <span class="toc-text">基础模板:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%9E%90"><span class="toc-number">2.0.3.</span> <span class="toc-text">分析:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95"><span class="toc-number">2.0.4.</span> <span class="toc-text">测试:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%99%E6%8E%A5%E5%8F%A3-1"><span class="toc-number">2.0.5.</span> <span class="toc-text">写接口</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%90%8C%E6%BA%90-amp-%E8%B7%A8%E5%9F%9F"><span class="toc-number">3.</span> <span class="toc-text">同源&amp;跨域</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8C%E6%BA%90%E5%92%8C%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5"><span class="toc-number">3.1.</span> <span class="toc-text">同源和同源策略</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8C%E6%BA%90"><span class="toc-number">3.1.1.</span> <span class="toc-text">同源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5"><span class="toc-number">3.1.2.</span> <span class="toc-text">什么是同源策略?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q-1"><span class="toc-number">3.1.3.</span> <span class="toc-text">Q:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%A8%E5%9F%9F%E5%8F%8A%E4%B8%BB%E6%B5%81%E8%B7%A8%E5%9F%9F%E6%96%B9%E6%B3%95"><span class="toc-number">3.2.</span> <span class="toc-text">跨域及主流跨域方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">3.2.1.</span> <span class="toc-text">概念:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AF%B9%E8%B7%A8%E5%9F%9F%E8%AF%B7%E6%B1%82%E7%9A%84%E6%8B%A6%E6%88%AA%E8%BF%87%E7%A8%8B"><span class="toc-number">3.2.2.</span> <span class="toc-text">浏览器对跨域请求的拦截过程?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E6%B5%81%E8%B7%A8%E5%9F%9F%E6%96%B9%E6%B3%95"><span class="toc-number">3.2.3.</span> <span class="toc-text">主流跨域方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%85%81%E8%AE%B8%E8%B7%A8%E6%BA%90%E8%AE%BF%E9%97%AE"><span class="toc-number">3.2.4.</span> <span class="toc-text">如何允许跨源访问</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CORS"><span class="toc-number">3.3.</span> <span class="toc-text">CORS</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-number">3.3.1.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5-1"><span class="toc-number">3.3.2.</span> <span class="toc-text">概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">3.3.3.</span> <span class="toc-text">工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E4%BC%98%E5%8A%BF"><span class="toc-number">3.3.4.</span> <span class="toc-text">主要优势</span></a></li></ol></li></ol></li></ol>
        </div>
    
</div>


    </div>
</div>
</body>

<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>


<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/typed.js"></script>
<script src="/js/diaspora.js"></script>


<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">


<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>






</html>
